(()=>{"use strict";var e={290:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(s(326),t)},567:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0,t.Context=class{constructor(e){this.gl=e,this.textures=new Map,this.shaders=new Map,this.meshes=new Map}bindGLTexture(e){this.currentTexture!=e&&(this.currentTexture=e,this.gl.bindTexture(this.gl.TEXTURE_2D,this.currentTexture))}deleteGLTexture(e){this.currentTexture==e&&this.bindGLTexture(null),this.gl.deleteTexture(e)}bindGLShader(e){this.currentShader!=e&&(this.currentShader=e,this.gl.useProgram(this.currentShader))}deleteGLShader(e){this.currentShader==e&&this.bindGLShader(null),this.gl.deleteProgram(e)}bindGLVertexBuffer(e){this.currentVBO!=e&&(this.currentVBO=e,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e))}deleteGLVertexBuffer(e){this.currentVBO==e&&this.bindGLVertexBuffer(null),this.gl.deleteBuffer(e)}bindGLElementBuffer(e){this.currentEBO!=e&&(this.currentEBO=e,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e))}deleteGLElementBuffer(e){this.currentEBO==e&&this.bindGLElementBuffer(null),this.gl.deleteBuffer(e)}bindGLVertexArray(e){this.currentVAO!=e&&(this.currentVAO=e,this.gl.bindVertexArray(e))}deleteGLVertexArray(e){this.currentVAO==e&&this.bindGLVertexArray(null),this.gl.deleteVertexArray(e)}bindGLFramebuffer(e){this.currentFBO!=e&&(this.currentFBO=e,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e))}deleteGLFramebuffer(e){this.currentFBO==e&&this.bindGLFramebuffer(null),this.gl.deleteFramebuffer(e)}deleteTextures(){for(let[e,t]of this.textures)t.delete();this.textures.clear()}deleteShaders(){for(let[e,t]of this.shaders)t.delete();this.shaders.clear()}deleteMeshes(){for(let[e,t]of this.meshes)t.delete();this.meshes.clear()}delete(){this.deleteTextures(),this.deleteShaders(),this.deleteMeshes()}}},554:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0,t.Log=class{static info(e){console.info(`[devon-webgl] ${e}`)}static warning(e){console.warn(`[devon-webgl] ${e}`)}static error(e){console.error(`[devon-webgl] ${e}`)}}},471:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Mesh=void 0,t.Mesh=class{get vertices(){return this.dynamic?this._vertices:this._vertices.map((e=>Object.assign({},e)))}get elements(){return this.dynamic?this._elements:this._elements.map((e=>Object.assign({},e)))}constructor(e,t,s){var r;this.id=e,this._context=t,this.dynamic=s,this._vertices=new Array,this._elements=new Array,null!=this._context&&(null===(r=this._context.meshes.get(this.id))||void 0===r||r.delete(),this._context.meshes.set(this.id,this),this._glVertexArray=this._context.gl.createVertexArray())}createVBO(){if(this._vertices.length>0){let e=this._context.gl;this._glVertexBuffer=e.createBuffer(),this._context.bindGLVertexArray(this._glVertexArray),this._context.bindGLVertexBuffer(this._glVertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.getRawVertexData(),this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW);let t=0,s=this._vertices[0],r=s.getLength();for(let i=0;i<s.getAttributeCount();i++){let n=s.getAttributeLength(i);e.enableVertexAttribArray(i),e.vertexAttribPointer(i,n,e.FLOAT,!1,4*r,4*t),t+=n}this._context.bindGLVertexArray(null),this._context.bindGLVertexBuffer(null)}this._prevVBOLen=this._vertices.length}createEBO(){if(this._elements.length>0){let e=this._context.gl;this._glElementBuffer=e.createBuffer(),this._context.bindGLVertexArray(this._glVertexArray),this._context.bindGLElementBuffer(this._glElementBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.getRawElementData(),this.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW),this._context.bindGLVertexArray(null),this._context.bindGLElementBuffer(null)}this._prevEBOLen=this._elements.length}getRawVertexData(){if(0==this._vertices.length)return new Float32Array(0);let e=this._vertices[0].getLength(),t=new Float32Array(this._vertices.length*e);for(let s=0;s<this._vertices.length;s++)t.set(this._vertices[s].getData().flat(),s*e);return t}getRawElementData(){return Uint16Array.from(this._elements)}setData(e,t,s){s<0&&(s=0);let r=e.length-Math.max(0,s+e.length-t.length),i=0;for(;i<r;)t[i+s]=e[i],i++;for(let s=0;s<e.length-r;s++)t.push(e[i++])}setVertices(e,t){this.setData(e,this._vertices,t)}setElements(e,t){this.setData(e,this._elements,t)}resetVertices(e){this._vertices=new Array(e)}resetElements(e){this._elements=new Array(e)}flushVertices(){if(null!=this._glVertexBuffer){let e=this._context.gl;if(this._elements.length>0){this._context.bindGLVertexBuffer(this._glVertexBuffer);let t=this.getRawVertexData();this._prevVBOLen==this._vertices.length?e.bufferSubData(e.ARRAY_BUFFER,0,t):e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW),this._context.bindGLVertexBuffer(null)}else this._context.deleteGLVertexBuffer(this._glVertexBuffer),this._glVertexBuffer=null}else this.createVBO();this._prevVBOLen=this._vertices.length}flushElements(){if(null!=this._glElementBuffer){let e=this._context.gl;if(this._elements.length>0){this._context.bindGLElementBuffer(this._glElementBuffer);let t=this.getRawElementData();this._prevEBOLen==this._elements.length?e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t):e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.DYNAMIC_DRAW),this._context.bindGLElementBuffer(null)}else this._context.deleteGLElementBuffer(this._glElementBuffer),this._glElementBuffer=null}else this.createEBO();this._prevEBOLen=this._elements.length}draw(e){this.drawPartial(e,0,null!=this._glElementBuffer?this._elements.length:this._vertices.length)}drawPartial(e,t,s){if(null!=this._glVertexBuffer){let r=this._context.gl;e.bind(),this._context.bindGLVertexArray(this._glVertexArray),null!=this._glElementBuffer?r.drawElements(r.TRIANGLES,Math.min(s,this._elements.length),r.UNSIGNED_SHORT,t):r.drawArrays(r.TRIANGLES,t,Math.min(s,this._vertices.length)),this._context.bindGLVertexArray(null)}}delete(){this._context.deleteGLVertexArray(this._glVertexArray),this._context.deleteGLVertexBuffer(this._glVertexBuffer),this._context.deleteGLElementBuffer(this._glElementBuffer),this._context.meshes.delete(this.id)}}},518:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderTexture=void 0;const r=s(247);class i extends r.Texture{constructor(e,t,s){if(super(e,t,s),null!=this._context){let e=this._context.gl;this._glFramebuffer=e.createFramebuffer(),this._glDepthBuffer=e.createTexture(),this._context.bindGLTexture(this._glDepthBuffer),e.texImage2D(e.TEXTURE_2D,0,e.DEPTH24_STENCIL8,this._width,this._height,0,e.DEPTH_STENCIL,e.UNSIGNED_INT_24_8,null),this.bindFBO(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._glTexture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,this._glDepthBuffer,0)}}bindFBO(){this._context.bindGLFramebuffer(this._glFramebuffer)}resize(e){if(e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1),e[0]!=this._width||e[1]!=this._height){let t=this._context.gl;this._context.bindGLTexture(this._glDepthBuffer),t.texImage2D(t.TEXTURE_2D,0,t.DEPTH24_STENCIL8,e[0],e[1],0,t.DEPTH_STENCIL,t.UNSIGNED_INT_24_8,null),super.generateBlank(e)}}delete(){this._context.deleteGLFramebuffer(this._glFramebuffer),this._context.deleteGLTexture(this._glDepthBuffer),super.delete()}}t.RenderTexture=i},119:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Shader=void 0,t.Shader=class{constructor(e,t,s,r){var i;if(this.id=e,this._context=t,null!=this._context){let e=this._context.gl;null===(i=this._context.shaders.get(this.id))||void 0===i||i.delete(),this._context.shaders.set(this.id,this);let t=e.createShader(e.VERTEX_SHADER);e.shaderSource(t,s),e.compileShader(t);let n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,r),e.compileShader(n),this._glShader=e.createProgram(),e.attachShader(this._glShader,t),e.attachShader(this._glShader,n),e.linkProgram(this._glShader),e.deleteShader(t),e.deleteShader(n)}}bind(){this._context.bindGLShader(this._glShader)}getUniformLocation(e){return this.bind(),this._context.gl.getUniformLocation(this._glShader,e)}setFloat(e,t){this._context.gl.uniform1f(this.getUniformLocation(e),t)}setInt(e,t){this._context.gl.uniform1i(this.getUniformLocation(e),t)}setVec2(e,t){this._context.gl.uniform2fv(this.getUniformLocation(e),t)}setIVec2(e,t){this._context.gl.uniform2iv(this.getUniformLocation(e),t)}setVec3(e,t){this._context.gl.uniform3fv(this.getUniformLocation(e),t)}setIVec3(e,t){this._context.gl.uniform3iv(this.getUniformLocation(e),t)}setVec4(e,t){this._context.gl.uniform4fv(this.getUniformLocation(e),t)}setIVec4(e,t){this._context.gl.uniform4iv(this.getUniformLocation(e),t)}setMatrix2(e,t){this._context.gl.uniformMatrix2fv(this.getUniformLocation(e),!1,t)}setMatrix3(e,t){this._context.gl.uniformMatrix3fv(this.getUniformLocation(e),!1,t)}setMatrix4(e,t){this._context.gl.uniformMatrix4fv(this.getUniformLocation(e),!1,t)}setTexture(e,t,s){this.setInt(e,s),this._context.gl.activeTexture(this._context.gl.TEXTURE0+s),t.bind()}delete(){this._context.deleteGLShader(this._glShader),this._context.shaders.delete(this.id)}}},247:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Texture=void 0;const r=s(393);t.Texture=class{get width(){return this._width}get height(){return this._height}get size(){return[this._width,this._height]}get minFilter(){return this._minFilter}set minFilter(e){let t=this._context.gl;this.bind(),this._minFilter=e,t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_LINEAR][e+(this._hasMipmaps?2:0)])}get magFilter(){return this._magFilter}set magFilter(e){let t=this._context.gl;this.bind(),this._magFilter=e,t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,[t.NEAREST,t.LINEAR][e])}get wrapS(){return this._wrapS}set wrapS(e){let t=this._context.gl;this.bind(),this._wrapS=e,t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,[t.CLAMP_TO_EDGE,t.REPEAT,t.MIRRORED_REPEAT][e])}get wrapT(){return this._wrapT}set wrapT(e){let t=this._context.gl;this.bind(),this._wrapT=e,t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,[t.CLAMP_TO_EDGE,t.REPEAT,t.MIRRORED_REPEAT][e])}constructor(e,t,s){var i;if(this.id=e,this._context=t,this._width=0,this._height=0,this._minFilter=r.TextureFilter.Linear,this._magFilter=r.TextureFilter.Linear,this._wrapS=r.TextureWrap.Clamp,this._wrapT=r.TextureWrap.Clamp,this._hasMipmaps=!1,null!=this._context){let e=this._context.gl;null===(i=this._context.textures.get(this.id))||void 0===i||i.delete(),this._context.textures.set(this.id,this),this._glTexture=e.createTexture(),this.magFilter=this._magFilter,this.wrapS=this._wrapS,this.wrapT=this._wrapT,this.generateBlank(s)}}bind(){this._context.bindGLTexture(this._glTexture)}bindFBO(){}resize(e){}generateBlank(e){this._hasMipmaps=!1,this.minFilter=this._minFilter,e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1);let t=this._context.gl;this.bind(),e[0]!=this._width||e[1]!=this._height?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e[0],e[1],0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e[0]*e[1]*4)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(e[0]*e[1]*4)),this._width=e[0],this._height=e[1]}loadImageFile(e){let t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=()=>{let e=this._context.currentTexture;this.loadImage(t),this._context.bindGLTexture(e)}}loadImage(e){let t=this._context.gl;this.bind(),e.width!=this._width||e.height!=this._height?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,e),this._width=e.width,this._height=e.height,this._hasMipmaps=!1,this.minFilter=this._minFilter}loadVideoFrame(e){let t=this._context.gl;this.bind(),e.videoWidth!=this._width||e.videoHeight!=this._height?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,e.videoWidth,e.videoHeight,t.RGBA,t.UNSIGNED_BYTE,e),this._width=e.videoWidth,this._height=e.videoHeight,this._hasMipmaps=!1,this.minFilter=this._minFilter}generateMipmaps(){let e=this._context.gl;this.bind(),e.generateMipmap(e.TEXTURE_2D),this._hasMipmaps=!0,this.minFilter=this._minFilter}delete(){this._context.deleteGLTexture(this._glTexture),this._context.textures.delete(this.id)}}},895:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas=void 0;const r=s(567),i=s(393),n=s(554),l=s(942),a=s(471),o=s(518),h=s(119),d=s(247),c=s(529);class u extends c.Vertex{constructor(e,t){super(),this.coord=e,this.tex=t}getData(){return[this.coord,this.tex]}}const g=[new u([0,0],[0,1]),new u([1,1],[1,0]),new u([1,0],[1,1]),new u([1,1],[1,0]),new u([0,0],[0,1]),new u([0,1],[0,0])];class x{get width(){return this.getTextureSize("fbo_devon_webgl")[0]}set width(e){this.container.style.width=`${e}px`}get height(){return this.getTextureSize("fbo_devon_webgl")[1]}set height(e){this.container.style.height=`${e}px`}get size(){return this.getTextureSize("fbo_devon_webgl")}set size(e){this.width=e[0],this.height=e[1]}constructor(e,t){this.id=e,this._deleted=!1,this.container=document.createElement("div"),this.container.id=e,this.container.className="devon-webgl-container",this.container.style.width=`${t[0]}px`,this.container.style.height=`${t[1]}px`,this.container.style.display="block",this.container.style.zIndex="-1",this.canvas=document.createElement("canvas"),this.canvas.className="devon-webgl-canvas",this.canvas.style.position="absolute",this.container.appendChild(this.canvas),this._context=new r.Context(this.canvas.getContext("webgl2",{alpha:!0,stencil:!0,preserveDrawingBuffer:!0}));let s=window.devicePixelRatio;t=[Math.round(t[0]*s),Math.round(t[1]*s)],this.createRenderTexture("fbo_devon_webgl",t),this.createShader("shader_devon_webgl","#version 300 es\n\nlayout (location = 0) in vec2 vecFragCoord;\nlayout (location = 1) in vec2 vecTexCoord;\n\nout vec2 texCoord;\n\nuniform mat4 projection;\n\nvoid main(void)\n{\n\ttexCoord = vecTexCoord;\n\tgl_Position = projection * vec4(vecFragCoord, 0, 1);\n}\n","#version 300 es\nprecision highp float;\n\nin vec2 texCoord;\nout vec4 fragColor;\nuniform sampler2D renderTexture;\n\nvoid main(void)\n{\n\tfragColor = texture(renderTexture, texCoord);\n}\n"),this.createStaticMesh("mesh_devon_webgl",g),x._fullscreenInit||(document.addEventListener("fullscreenchange",(function(){x._fullscreen=!x._fullscreen,x._fullscreen||window.scrollTo(x._savedScroll[0],x._savedScroll[1])})),x._fullscreenInit=!0)}clear(e){if(!this._deleted){let t=this._context.gl;t.clearColor(...e),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}}startDraw(){if(!this._deleted){const e=this.container.getBoundingClientRect();let t=window.devicePixelRatio;this.canvas.width=Math.round(e.width*t),this.canvas.height=Math.round(e.height*t),x._fullscreen?(this.canvas.style.left=`${e.left}px`,this.canvas.style.top=`${e.top}px`):(this.canvas.style.left=`${window.scrollX+e.left}px`,this.canvas.style.top=`${window.scrollY+e.top}px`),this.canvas.style.width=this.canvas.width/t+"px",this.canvas.style.height=this.canvas.height/t+"px";let s=this.getTextureSize("fbo_devon_webgl");s[0]==this.canvas.width&&s[1]==this.canvas.height||(s=[this.canvas.width,this.canvas.height],this.resizeRenderTexture("fbo_devon_webgl",[this.canvas.width,this.canvas.height])),this.bindRenderTexture("fbo_devon_webgl")}}finishDraw(){if(!this._deleted){this._context.bindGLFramebuffer(null),this.setViewport([0,0],[this.canvas.width,this.canvas.height]),this.disableDepth(),this.disableStencil(),this.setStencilMask(255),this.setStencilFunction(i.StencilFunc.Always,1,255),this.disableCull();let e=l.Matrix.ortho([0,0],[1,1],[0,1]);this.setShaderTexture("shader_devon_webgl","renderTexture","fbo_devon_webgl",0),this.setShaderMatrix4("shader_devon_webgl","projection",e),this.drawMesh("mesh_devon_webgl","shader_devon_webgl")}}setFullscreen(){this._deleted||(this.container.requestFullscreen(),x._savedScroll=[window.scrollX,window.scrollY])}deletedMessage(e){n.Log.error(`${e}: "${this.id}" has been deleted.`)}delete(){this._deleted||(this._context.delete(),this._deleted=!0)}setViewport(e,t){this._deleted?this.deletedMessage("setViewport"):this._context.gl.viewport(...e,...t)}getViewport(){if(!this._deleted){let e=this._context.gl.getParameter(this._context.gl.VIEWPORT);return[[e[0],e[1]],[e[2],e[3]]]}return this.deletedMessage("getViewport"),[[0,0],[0,0]]}enableBlend(){this._deleted?this.deletedMessage("enableBlend"):this._context.gl.enable(this._context.gl.BLEND)}disableBlend(){this._deleted?this.deletedMessage("disableBlend"):this._context.gl.disable(this._context.gl.BLEND)}getGLBlendFunc(e){let t=this._context.gl;return[t.ZERO,t.ONE,t.SRC_COLOR,t.ONE_MINUS_SRC_COLOR,t.DST_COLOR,t.ONE_MINUS_DST_COLOR,t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.DST_ALPHA,t.ONE_MINUS_DST_ALPHA,t.CONSTANT_COLOR,t.ONE_MINUS_CONSTANT_COLOR,t.CONSTANT_ALPHA,t.ONE_MINUS_CONSTANT_ALPHA][e]}setBlendFunction(e,t){this._deleted?this.deletedMessage("setBlendFunction"):this._context.gl.blendFunc(this.getGLBlendFunc(e),this.getGLBlendFunc(t))}setBlendFuncSeparate(e,t,s,r){this._deleted?this.deletedMessage("setBlendFuncSeparate"):this._context.gl.blendFuncSeparate(this.getGLBlendFunc(e),this.getGLBlendFunc(t),this.getGLBlendFunc(s),this.getGLBlendFunc(r))}enableCull(){this._deleted?this.deletedMessage("enableCull"):this._context.gl.enable(this._context.gl.CULL_FACE)}disableCull(){this._deleted?this.deletedMessage("disableCull"):this._context.gl.disable(this._context.gl.CULL_FACE)}setCullFace(e){if(this._deleted)this.deletedMessage("setCullFace");else{let t=this._context.gl;t.cullFace([t.FRONT,t.BACK,t.FRONT_AND_BACK][e])}}setFrontFace(e){if(this._deleted)this.deletedMessage("setFrontFace");else{let t=this._context.gl;t.frontFace([t.CW,t.CCW][e])}}enableDepth(){this._deleted?this.deletedMessage("enableDepth"):this._context.gl.enable(this._context.gl.DEPTH_TEST)}disableDepth(){this._deleted?this.deletedMessage("disableDepth"):this._context.gl.disable(this._context.gl.DEPTH_TEST)}clearDepthBuffer(){this._deleted?this.deletedMessage("clearDepthBuffer"):this._context.gl.clear(this._context.gl.DEPTH_BUFFER_BIT)}setDepthFunction(e){if(this._deleted)this.deletedMessage("setDepthFunction");else{let t=this._context.gl;t.depthFunc([t.ALWAYS,t.NEVER,t.EQUAL,t.NOTEQUAL,t.LESS,t.LEQUAL,t.GREATER,t.GEQUAL][e])}}enableDepthMask(){this._deleted?this.deletedMessage("enableDepthMask"):this._context.gl.depthMask(!0)}disableDepthMask(){this._deleted?this.deletedMessage("disableDepthMask"):this._context.gl.depthMask(!1)}enableScissor(){this._deleted?this.deletedMessage("enableScissor"):this._context.gl.enable(this._context.gl.SCISSOR_TEST)}disableScissor(){this._deleted?this.deletedMessage("disableScissor"):this._context.gl.disable(this._context.gl.SCISSOR_TEST)}setScissorRegion(e,t){if(this._deleted)this.deletedMessage("setScissorRegion");else{let s=this.getViewport();this._context.gl.scissor(e[0],s[1][1]-e[1]-e[0],...t)}}enableStencil(){this._deleted?this.deletedMessage("enableStencil"):this._context.gl.enable(this._context.gl.STENCIL_TEST)}disableStencil(){this._deleted?this.deletedMessage("disableStencil"):this._context.gl.disable(this._context.gl.STENCIL_TEST)}clearStencilBuffer(){this._deleted?this.deletedMessage("clearStencilBuffer"):this._context.gl.clear(this._context.gl.DEPTH_BUFFER_BIT)}setStencilFunction(e,t,s){if(this._deleted)this.deletedMessage("setStencilFunction");else{let r=this._context.gl;r.stencilFunc([r.ALWAYS,r.NEVER,r.EQUAL,r.NOTEQUAL,r.LESS,r.LEQUAL,r.GREATER,r.GEQUAL][e],t,s)}}setStencilOptions(e,t,s){if(this._deleted)this.deletedMessage("setStencilOptions");else{let r=this._context.gl,i=[r.KEEP,r.ZERO,r.REPLACE,r.INCR,r.INCR_WRAP,r.DECR,r.DECR_WRAP,r.INVERT];r.stencilOp(i[e],i[t],i[s])}}setStencilMask(e){this._deleted?this.deletedMessage("setStencilMask"):this._context.gl.stencilMask(e)}createTexture(e,t=[1,1]){this._deleted?this.deletedMessage("createTexture"):new d.Texture(e,this._context,t)}getTexture(e,t){let s=this._context.textures.get(e);return null==s&&n.Log.error(`${t}: Cannot find "${e}".`),s}getTextureWidth(e){var t;if(this._deleted)this.deletedMessage("getTextureWidth");else{let s=null===(t=this.getTexture(e,"getTextureWidth"))||void 0===t?void 0:t.width;if(null!=s)return s}return 0}getTextureHeight(e){var t;if(this._deleted)this.deletedMessage("getTextureHeight");else{let s=null===(t=this.getTexture(e,"getTextureHeight"))||void 0===t?void 0:t.height;if(null!=s)return s}return 0}getTextureSize(e){var t;if(this._deleted)this.deletedMessage("getTextureSize");else{let s=null===(t=this.getTexture(e,"getTextureSize"))||void 0===t?void 0:t.size;if(null!=s)return s}return[0,0]}getTextureMinFilter(e){var t;if(this._deleted)this.deletedMessage("getTextureMinFilter");else{let s=null===(t=this.getTexture(e,"getTextureMinFilter"))||void 0===t?void 0:t.minFilter;if(null!=s)return s}return i.TextureFilter.Linear}setTextureMinFilter(e,t){if(this._deleted)this.deletedMessage("setTextureMinFilter");else{let s=this.getTexture(e,"setTextureMinFilter");null!=s&&(s.minFilter=t)}}getTextureMagFilter(e){var t;if(this._deleted)this.deletedMessage("getTextureMagFilter");else{let s=null===(t=this.getTexture(e,"getTextureMagFilter"))||void 0===t?void 0:t.magFilter;if(null!=s)return s}return i.TextureFilter.Linear}setTextureMagFilter(e,t){if(this._deleted)this.deletedMessage("setTextureMagFilter");else{let s=this.getTexture(e,"setTextureMagFilter");null!=s&&(s.magFilter=t)}}getTextureWrapS(e){var t;if(this._deleted)this.deletedMessage("getTextureWrapS");else{let s=null===(t=this.getTexture(e,"getTextureWrapS"))||void 0===t?void 0:t.wrapS;if(null!=s)return s}return i.TextureWrap.Repeat}setTextureWrapS(e,t){if(this._deleted)this.deletedMessage("setTextureWrapS");else{let s=this.getTexture(e,"setTextureWrapS");null!=s&&(s.wrapS=t)}}getTextureWrapT(e){var t;if(this._deleted)this.deletedMessage("getTextureWrapT");else{let s=null===(t=this.getTexture(e,"getTextureWrapT"))||void 0===t?void 0:t.wrapT;if(null!=s)return s}return i.TextureWrap.Repeat}setTextureWrapT(e,t){if(this._deleted)this.deletedMessage("setTextureWrapT");else{let s=this.getTexture(e,"setTextureWrapT");null!=s&&(s.wrapT=t)}}genBlankTexture(e,t){if(this._deleted)this.deletedMessage("genBlankTexture");else{let s=this.getTexture(e,"genBlankTexture");null!=s&&(s instanceof o.RenderTexture?n.Log.error(`genBlankTexture: Cannot generate blank texture in render texture "${e}".`):s.generateBlank(t))}}loadTextureImageFile(e,t){if(this._deleted)this.deletedMessage("loadTextureImageFile");else{let s=this.getTexture(e,"loadTextureImageFile");null!=s&&(s instanceof o.RenderTexture?n.Log.error(`loadTextureImageFile: Cannot load image file into render texture "${e}".`):s.loadImageFile(t))}}loadTextureImage(e,t){if(this._deleted)this.deletedMessage("loadTextureImage");else{let s=this.getTexture(e,"loadTextureImage");null!=s&&(s instanceof o.RenderTexture?n.Log.error(`loadTextureImage: Cannot load image into render texture "${e}".`):s.loadImage(t))}}loadTextureVideoFrame(e,t){if(this._deleted)this.deletedMessage("loadTextureVideoFrame");else{let s=this.getTexture(e,"loadTextureVideoFrame");null!=s&&(s instanceof o.RenderTexture?n.Log.error(`loadTextureVideoFrame: Cannot load video frame into render texture "${e}".`):s.loadVideoFrame(t))}}genTextureMipmaps(e){var t;this._deleted?this.deletedMessage("genTextureMipmaps"):null===(t=this.getTexture(e,"genTextureMipmaps"))||void 0===t||t.generateMipmaps()}deleteTexture(e){var t;this._deleted?this.deletedMessage("deleteTexture"):null===(t=this.getTexture(e,"deleteTexture"))||void 0===t||t.delete()}deleteAllTextures(){this._deleted?this.deletedMessage("deleteAllTextures"):this._context.deleteTextures()}createRenderTexture(e,t){this._deleted?this.deletedMessage("createRenderTexture"):new o.RenderTexture(e,this._context,t)}bindRenderTexture(e){if(this._deleted)this.deletedMessage("bindRenderTexture");else{let t=this.getTexture(e,"bindRenderTexture");null!=t&&(t instanceof o.RenderTexture?t.bindFBO():n.Log.error(`bindRenderTexture: "${e}" is not a render texture.`))}}unbindRenderTexture(){this._deleted?this.deletedMessage("unbindRenderTexture"):this.bindRenderTexture("fbo_devon_webgl")}resizeRenderTexture(e,t){if(this._deleted)this.deletedMessage("resizeRenderTexture");else{let s=this.getTexture(e,"resizeRenderTexture");null!=s&&(s instanceof o.RenderTexture?s.resize(t):n.Log.error(`resizeRenderTexture: "${e}" is not a render texture.`))}}createShader(e,t,s){this._deleted?this.deletedMessage("createShader"):new h.Shader(e,this._context,t,s)}getShader(e,t){let s=this._context.shaders.get(e);return null==s&&n.Log.error(`${t}: Cannot find "${e}".`),s}setShaderFloat(e,t,s){if(this._deleted)this.deletedMessage("setShaderFloat");else{let r=this.getShader(e,"setShaderFloat");null==r||r.setFloat(t,s)}}setShaderInt(e,t,s){if(this._deleted)this.deletedMessage("setShaderInt");else{let r=this.getShader(e,"setShaderInt");null==r||r.setInt(t,s)}}setShaderVec2(e,t,s){if(this._deleted)this.deletedMessage("setShaderVec2");else{let r=this.getShader(e,"setShaderVec2");null==r||r.setVec2(t,s)}}setShaderIVec2(e,t,s){if(this._deleted)this.deletedMessage("setShaderIVec2");else{let r=this.getShader(e,"setShaderIVec2");null==r||r.setIVec2(t,s)}}setShaderVec3(e,t,s){if(this._deleted)this.deletedMessage("setShaderVec3");else{let r=this.getShader(e,"setShaderVec3");null==r||r.setVec3(t,s)}}setShaderIVec3(e,t,s){if(this._deleted)this.deletedMessage("setShaderIVec3");else{let r=this.getShader(e,"setShaderIVec3");null==r||r.setIVec3(t,s)}}setShaderVec4(e,t,s){if(this._deleted)this.deletedMessage("setShaderVec4");else{let r=this.getShader(e,"setShaderVec4");null==r||r.setVec4(t,s)}}setShaderIVec4(e,t,s){if(this._deleted)this.deletedMessage("setShaderIVec4");else{let r=this.getShader(e,"setShaderIVec4");null==r||r.setIVec4(t,s)}}setShaderMatrix2(e,t,s){if(this._deleted)this.deletedMessage("setShaderMatrix2");else{let r=this.getShader(e,"setShaderMatrix2");null==r||r.setMatrix2(t,s)}}setShaderMatrix3(e,t,s){if(this._deleted)this.deletedMessage("setShaderMatrix3");else{let r=this.getShader(e,"setShaderMatrix3");null==r||r.setMatrix3(t,s)}}setShaderMatrix4(e,t,s){if(this._deleted)this.deletedMessage("setShaderMatrix4");else{let r=this.getShader(e,"setShaderMatrix4");null==r||r.setMatrix4(t,s)}}setShaderTexture(e,t,s,r){var i;if(this._deleted)this.deletedMessage("setShaderTexture");else{let n=this.getTexture(s,"setShaderTexture");null!=n&&(null===(i=this.getShader(e,"setShaderTexture"))||void 0===i||i.setTexture(t,n,r))}}deleteShader(e){var t;this._deleted?this.deletedMessage("deleteShader"):null===(t=this.getShader(e,"deleteShader"))||void 0===t||t.delete()}deleteAllShaders(){this._deleted?this.deletedMessage("deleteAllShaders"):this._context.deleteShaders()}createStaticMesh(e,t,s){if(this._deleted)this.deletedMessage("createStaticMesh");else{let r=new a.Mesh(e,this._context,!1);r.setVertices(t,0),null!=s&&r.setElements(s,0),r.createVBO(),r.createEBO()}}createDynamicMesh(e){this._deleted?this.deletedMessage("createDynamicMesh"):new a.Mesh(e,this._context,!0)}getMesh(e,t){let s=this._context.meshes.get(e);return null==s&&n.Log.error(`${t}: Cannot find "${e}".`),s}getMeshVertices(e){if(this._deleted)this.deletedMessage("getMeshVertices");else{let t=this.getMesh(e,"getMeshVertices");if(null!=t)return t.vertices}return new Array(0)}getMeshElements(e){if(this._deleted)this.deletedMessage("getMeshElements");else{let t=this.getMesh(e,"getMeshElements");if(null!=t)return t.elements}return new Array(0)}setMeshVertices(e,t,s){if(this._deleted)this.deletedMessage("setMeshVertices");else{let r=this.getMesh(e,"setMeshVertices");null!=r&&(r.dynamic?r.setVertices(t,s):n.Log.error(`setMeshVertices: "${e}" is not a dynamic mesh.`))}}setMeshElements(e,t,s){if(this._deleted)this.deletedMessage("setMeshElements");else{let r=this.getMesh(e,"setMeshElements");null!=r&&(r.dynamic?r.setElements(t,s):n.Log.error(`setMeshElements: "${e}" is not a dynamic mesh.`))}}resetMeshVertices(e,t){if(this._deleted)this.deletedMessage("resetMeshVertices");else{let s=this.getMesh(e,"resetMeshVertices");null!=s&&(s.dynamic?s.resetVertices(t):n.Log.error(`resetMeshVertices: "${e}" is not a dynamic mesh.`))}}resetMeshElements(e,t){if(this._deleted)this.deletedMessage("resetMeshElements");else{let s=this.getMesh(e,"resetMeshElements");null!=s&&(s.dynamic?s.resetElements(t):n.Log.error(`resetMeshElements: "${e}" is not a dynamic mesh.`))}}flushMeshVertices(e){if(this._deleted)this.deletedMessage("flushMeshVertices");else{let t=this.getMesh(e,"flushMeshVertices");null!=t&&(t.dynamic?t.flushVertices():n.Log.error(`flushMeshVertices: "${e}" is not a dynamic mesh.`))}}flushMeshElements(e){if(this._deleted)this.deletedMessage("flushMeshElements");else{let t=this.getMesh(e,"flushMeshElements");null!=t&&(t.dynamic?t.flushElements():n.Log.error(`flushMeshElements: "${e}" is not a dynamic mesh.`))}}flushMeshData(e){if(this._deleted)this.deletedMessage("flushMeshData");else{let t=this.getMesh(e,"flushMeshData");null!=t&&(t.dynamic?(t.flushVertices(),t.flushElements()):n.Log.error(`flushMeshElements: "${e}" is not a dynamic mesh.`))}}drawMesh(e,t){var s;if(this._deleted)this.deletedMessage("drawMesh");else{let r=this.getShader(t,"drawMesh");null!=r&&(null===(s=this.getMesh(e,"drawMesh"))||void 0===s||s.draw(r))}}drawMeshPartial(e,t,s,r){var i;if(this._deleted)this.deletedMessage("drawMeshPartial");else{let n=this.getShader(t,"drawMeshPartial");null!=n&&(null===(i=this.getMesh(e,"drawMeshPartial"))||void 0===i||i.drawPartial(n,s,r))}}deleteMesh(e){var t;this._deleted?this.deletedMessage("deleteMesh"):null===(t=this.getMesh(e,"deleteMesh"))||void 0===t||t.delete()}deleteAllMeshes(){this._deleted?this.deletedMessage("deleteAllMeshes"):this._context.deleteMeshes()}}t.Canvas=x,x._fullscreen=!1,x._fullscreenInit=!1},393:(e,t)=>{var s,r,i,n,l,a,o,h;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureWrap=t.TextureFilter=t.StencilOption=t.StencilFunc=t.DepthFunc=t.FrontFace=t.CullFace=t.BlendFunc=void 0,function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.SrcColor=2]="SrcColor",e[e.OneMinusSrcColor=3]="OneMinusSrcColor",e[e.DestColor=4]="DestColor",e[e.OneMinusDestColor=5]="OneMinusDestColor",e[e.SrcAlpha=6]="SrcAlpha",e[e.OneMinusSrcAlpha=7]="OneMinusSrcAlpha",e[e.DestAlpha=8]="DestAlpha",e[e.OneMinusDestAlpha=9]="OneMinusDestAlpha",e[e.ConstantColor=10]="ConstantColor",e[e.OneMinusConstantColor=11]="OneMinusConstantColor",e[e.ConstantAlpha=12]="ConstantAlpha",e[e.OneMinusConstantAlpha=13]="OneMinusConstantAlpha"}(s||(t.BlendFunc=s={})),function(e){e[e.Front=0]="Front",e[e.Bank=1]="Bank",e[e.FrontBack=2]="FrontBack"}(r||(t.CullFace=r={})),function(e){e[e.Clockwise=0]="Clockwise",e[e.CounterClockwise=1]="CounterClockwise"}(i||(t.FrontFace=i={})),function(e){e[e.Always=0]="Always",e[e.Never=1]="Never",e[e.Equal=2]="Equal",e[e.NotEqual=3]="NotEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual",e[e.Greater=6]="Greater",e[e.GreaterEqual=7]="GreaterEqual"}(n||(t.DepthFunc=n={})),function(e){e[e.Always=0]="Always",e[e.Never=1]="Never",e[e.Equal=2]="Equal",e[e.NotEqual=3]="NotEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual",e[e.Greater=6]="Greater",e[e.GreaterEqual=7]="GreaterEqual"}(l||(t.StencilFunc=l={})),function(e){e[e.Keep=0]="Keep",e[e.Zero=1]="Zero",e[e.Replace=2]="Replace",e[e.Increase=3]="Increase",e[e.IncreaseWrap=4]="IncreaseWrap",e[e.Decrease=5]="Decrease",e[e.DecreaseWrap=6]="DecreaseWrap",e[e.Invert=7]="Invert"}(a||(t.StencilOption=a={})),function(e){e[e.Nearest=0]="Nearest",e[e.Linear=1]="Linear"}(o||(t.TextureFilter=o={})),function(e){e[e.Clamp=0]="Clamp",e[e.Repeat=1]="Repeat",e[e.Mirror=2]="Mirror"}(h||(t.TextureWrap=h={}))},326:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(s(895),t),i(s(393),t),i(s(942),t),i(s(425),t),i(s(818),t),i(s(529),t)},942:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix=void 0;const r=s(818);t.Matrix=class{static ortho(e,t,s){let r=e[0],i=e[0]+t[0],n=e[1],l=e[1]+t[1];return[2/(i-r),0,0,0,0,2/(n-l),0,0,0,0,-2/(s[1]-s[0]),0,-(i+r)/(i-r),-(n+l)/(n-l),0,1]}static perspective(e,t,s){let r=1/Math.tan(e*(Math.PI/180)/2),i=1/(s[1]-s[0]);return[1/(t[0]/t[1])*r,0,0,0,0,r,0,0,0,0,-(s[1]+s[0])*i,-1,0,0,-2*s[1]*s[0]*i,0]}static multiplyVector(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3]]}static multiply(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}static view3D(e,t,s){let i=r.Vector.normalize3([e[0]-t[0],e[1]-t[1],e[2]-t[2]]),n=r.Vector.cross([s[0],s[1],s[2]],[i[0],i[1],i[2]]),l=r.Vector.normalize3([n[0],n[1],n[2]]),a=r.Vector.cross([i[0],i[1],i[2]],[l[0],l[1],l[2]]),o=-r.Vector.dot3([l[0],l[1],l[2]],[e[0],e[1],e[2]]),h=-r.Vector.dot3([a[0],a[1],a[2]],[e[0],e[1],e[2]]),d=-r.Vector.dot3([i[0],i[1],i[2]],[e[0],e[1],e[2]]);return[l[0],l[1],l[2],0,a[0],a[1],a[2],0,i[0],i[1],i[2],0,o,h,d,1]}static view2D(e){return[1,0,0,0,0,1,0,0,0,0,1,0,e[0],e[1],0,1]}static translate(e){return[1,0,0,0,0,1,0,0,0,0,1,0,e[0],e[1],e[2],1]}static translate2D(e){return this.translate([e[0],e[1],0])}static translateX(e){return this.translate([e,0,0])}static translateY(e){return this.translate([0,e,0])}static translateZ(e){return this.translate([0,0,e])}static rotate(e){let t=this.rotateX(e[0]);return t=this.multiply(t,this.rotateY(e[1])),t=this.multiply(t,this.rotateZ(e[2])),t}static rotate2D(e){return this.rotateZ(e)}static rotateX(e){let t=Math.sin(e),s=Math.cos(e);return[1,0,0,0,0,s,t,0,0,-t,s,0,0,0,0,1]}static rotateY(e){let t=Math.sin(e),s=Math.cos(e);return[s,0,-t,0,0,1,0,0,t,0,s,0,0,0,0,1]}static rotateZ(e){let t=Math.sin(e),s=Math.cos(e);return[s,t,0,0,-t,s,0,0,0,0,1,0,0,0,0,1]}static scale(e){return[e[0],0,0,0,0,e[1],0,0,0,0,e[2],0,0,0,0,1]}static scale2D(e){return this.scale([e[0],e[1],1])}static scaleX(e){return this.scale([e,1,1])}static scaleY(e){return this.scale([1,e,1])}static scaleZ(e){return this.scale([1,1,e])}static transform3D(e,t,s){let r=this.translate(e);return r=this.multiply(r,this.rotate(t)),r=this.multiply(r,this.scale(s)),r}static transform2D(e,t,s){let r=this.translate2D(e);return r=this.multiply(r,this.rotate2D(t)),r=this.multiply(r,this.scale2D(s)),r}}},425:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},818:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;class s{static add2(e,t){return[e[0]+t[0],e[1]+t[1]]}static add3(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}static add4(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3]]}static sub2(e,t){return[e[0]-t[0],e[1]-t[1]]}static sub3(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}static sub4(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3]]}static convert2To3(e,t){return[e[0],e[1],t]}static convert2To4(e,t,s){return[e[0],e[1],t,s]}static convert3To4(e,t){return[e[0],e[1],e[2],t]}static length2(e){return Math.sqrt(s.dot2(e,e))}static length3(e){return Math.sqrt(s.dot3(e,e))}static length4(e){return Math.sqrt(s.dot4(e,e))}static normalize2(e){let t=this.length2(e);return[e[0]/t,e[1]/t]}static normalize3(e){let t=this.length3(e);return[e[0]/t,e[1]/t,e[2]/t]}static normalize4(e){let t=this.length4(e);return[e[0]/t,e[1]/t,e[2]/t,e[3]/t]}static dot2(e,t){return e[0]*t[0]+e[1]*t[1]}static dot3(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}static dot4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}static cross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}}t.Vector=s},529:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vertex=void 0,t.Vertex=class{getLength(){return this.getData().flat().length}getAttributeLength(e){return this.getData()[e].length}getAttributeCount(){return this.getData().length}}},155:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas1=void 0;const l=n(s(290)),a=s(353),o=`#version 300 es\nprecision highp float;\n\nin vec2 fragCoord;\nin vec2 texCoord;\nin vec2 pixelCoord;\nin vec2 imgTopLeft;\nin vec2 imgBtmRight;\n\nout vec4 fragColor;\n\nuniform sampler2D tex1;\nuniform sampler2D tex2;\nuniform vec2 tex1Size;\n\n${s(318).fragShaderLib}\n\t\nvoid main(void)\n{\n\tvec4 img = vec4(1, 1, 1, 1);\n\tvec4 color = vec4(hsvToRGB(vec3(time / 2.0, 0.5, 1)), 1);\n\t\n\tif ((fragCoord.x >= imgTopLeft.x && fragCoord.x <= imgBtmRight.x) &&\n\t\t(fragCoord.y >= imgTopLeft.y && fragCoord.y <= imgBtmRight.y)) {\n\t\timg = texture(tex2, vec2(\n\t\t\t(fragCoord.x - imgTopLeft.x) / (imgBtmRight.x - imgTopLeft.x),\n\t\t\t-(fragCoord.y - imgTopLeft.y) / (imgBtmRight.y - imgTopLeft.y)\n\t\t));\n\t}\n\t\n\tvec2 correct = resolution / tex1Size;\n\tvec2 t = (-correct / 2.0) + (texCoord * correct) + 0.5;\n\t\n\tfloat sinx = sinRange(radians((time * 50.0) + (pixelCoord.y * 2.0)) / 1.25, 1.00, 1.15);\n\tfloat siny = sinRange(radians((-time * 50.0) + (pixelCoord.y * 2.0)) * 2.0, 0.85, 1.15);\n\tfloat sinx2 = sinRange(radians((time * 50.0) + (pixelCoord.y * 4.0)), -0.05, 0.05) * (mod(floor(pixelCoord.y), 2.0) - 0.5);\n\t\n\tt.x = ((t.x * sinx) - (sinx / 2.0) - 0.5) + sinx2;\n\tt.y = (t.y * siny) - (siny / 2.0) - 0.5;\n\t\n\tfragColor = (texture(tex1, t) * color) / img;\n}\n`;class h extends l.Vertex{constructor(e,t){super(),this.coord=e,this.tex=t}getData(){return[this.coord,this.tex]}}const d=[new h([-1,-1],[0,0]),new h([1,1],[1,1]),new h([1,-1],[1,0]),new h([1,1],[1,1]),new h([-1,-1],[0,0]),new h([-1,1],[0,1])];class c extends a.Canvas{constructor(e){super(e,[480,480]);let t=this._glCanvas;t.createTexture("texture_bg"),t.loadTextureImageFile("texture_bg","./img/test.png"),t.setTextureWrapS("texture_bg",l.TextureWrap.Mirror),t.setTextureWrapT("texture_bg",l.TextureWrap.Mirror),t.genTextureMipmaps("texture_bg"),t.createTexture("texture_img"),t.loadTextureImageFile("texture_img","./img/test2.png"),t.setTextureWrapS("texture_img",l.TextureWrap.Repeat),t.setTextureWrapT("texture_img",l.TextureWrap.Repeat),t.genTextureMipmaps("texture_img"),t.createShader("shader","#version 300 es\n\nlayout (location = 0) in vec2 vecFragCoord;\nlayout (location = 1) in vec2 vecTexCoord;\n\nout vec2 fragCoord;\nout vec2 texCoord;\nout vec2 pixelCoord;\nout vec2 imgTopLeft;\nout vec2 imgBtmRight;\n\nuniform vec2 resolution;\nuniform mat4 projection;\nuniform mat4 model;\nuniform vec2 tex2Size;\n\nvoid main(void)\n{\n\tfragCoord = vecFragCoord;\n\ttexCoord = vecTexCoord;\n\tpixelCoord = fragCoord * resolution / 2.0;\n\t\n\tmat4 matrix = projection * model;\n\timgTopLeft = (matrix * vec4(-tex2Size.x / 2.0, tex2Size.x / 2.0, 0, 1)).xy;\n\timgBtmRight = (matrix * vec4(tex2Size.y / 2.0, -tex2Size.y / 2.0, 0, 1)).xy;\n\n\tgl_Position = vec4(vecFragCoord, 0, 1);\n}\n",o),t.createStaticMesh("mesh",d)}update(e){let t=this._glCanvas,s=t.size,r=t.getTextureSize("texture_bg"),i=t.getTextureSize("texture_img"),n=2*(Math.sin(e/15*(Math.PI/180))+1)+.5;t.setViewport([0,0],s),t.clear([0,0,0,1]);let a=l.Matrix.ortho([-s[0]/2,-s[1]/2],s,[0,1]),o=l.Matrix.transform2D([0,0],0,[n,n]);t.setShaderVec2("shader","resolution",s),t.setShaderFloat("shader","time",e/1e3),t.setShaderMatrix4("shader","projection",a),t.setShaderMatrix4("shader","model",o),t.setShaderTexture("shader","tex1","texture_bg",0),t.setShaderTexture("shader","tex2","texture_img",1),t.setShaderVec2("shader","tex1Size",r),t.setShaderVec2("shader","tex2Size",i),t.drawMesh("mesh","shader")}}t.Canvas1=c},876:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas2=void 0;const l=n(s(290)),a=s(353),o=`#version 300 es\nprecision highp float;\n\nin vec2 fragCoord;\nin vec2 texCoord;\nin vec2 pixelCoord;\n\nout vec4 fragColor;\n\nuniform sampler2D tex;\n\n${s(318).fragShaderLib}\n\t\nvoid main(void)\n{\n\tfloat segHeight = (30.0 / 256.0) * ((random() + 0.5) / 2.0);\n\tfloat segIntensity = sinRange(radians((time * 50.0) * 4.00), 0.0, 0.05);\n\tfloat fuzz = (random(pixelCoord.y + randomSeed) - 0.5) / 48.0;\n\tfloat xoff = ((step(mod(fragCoord.y + 1.0, segHeight * 2.0), segHeight) - 0.5) * segIntensity) + fuzz;\n\t\n\tvec4 color = vec4(hsvToRGB(vec3(\n\t\t(time / 4.0) + (fragCoord.y / 8.0) + (noise(texCoord, randomSeed) / 3.0),\n\t\t0.75,\n\t\tsin((fragCoord.y * 2.0) + time) + 2.0\n\t)), 1);\n\t\n\tfragColor = texture(tex, vec2(texCoord.x + xoff, texCoord.y)) / color;\n}\n`;class h extends l.Vertex{constructor(e,t){super(),this.coord=e,this.tex=t}getData(){return[this.coord,this.tex]}}const d=[new h([-.5,-.5],[0,0]),new h([.5,.5],[1,1]),new h([.5,-.5],[1,0]),new h([.5,.5],[1,1]),new h([-.5,-.5],[0,0]),new h([-.5,.5],[0,1])];class c extends a.Canvas{constructor(e){super(e,[480,480]);let t=this._glCanvas;t.createTexture("texture"),t.loadTextureImageFile("texture","./img/test.png"),t.genTextureMipmaps("texture"),t.createShader("shader","#version 300 es\n\nlayout (location = 0) in vec2 vecFragCoord;\nlayout (location = 1) in vec2 vecTexCoord;\n\nout vec2 fragCoord;\nout vec2 texCoord;\nout vec2 pixelCoord;\n\nuniform vec2 resolution;\nuniform mat4 projection;\n\nvoid main(void)\n{\n\tfragCoord = vecFragCoord;\n\ttexCoord = vecTexCoord;\n\tpixelCoord = fragCoord * resolution / 2.0;\n\t\n\tgl_Position = projection * vec4(vecFragCoord, 0, 1);\n}\n",o),t.createStaticMesh("mesh",d)}update(e){let t=this._glCanvas,s=t.size;t.setViewport([0,0],s),t.clear([0,0,0,1]);let r=[s[0]/s[1],1];s[1]>s[0]&&(r=[1,s[1]/s[0]]);let i=l.Matrix.ortho([-r[0]/2,-r[1]/2],r,[0,1]);t.setShaderVec2("shader","resolution",s),t.setShaderFloat("shader","time",e/1e3),t.setShaderFloat("shader","randomSeed",Math.random()),t.setShaderMatrix4("shader","projection",i),t.setShaderTexture("shader","tex","texture",0),t.drawMesh("mesh","shader")}}t.Canvas2=c},239:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas3=void 0;const l=n(s(290)),a=s(353),o=`#version 300 es\nprecision highp float;\n\nin vec2 fragCoord;\nin vec2 texCoord;\nin vec2 pixelCoord;\n\nout vec4 fragColor;\n\nuniform sampler2D tex;\n\n${s(318).fragShaderLib}\n\nfloat getNeighbor(int x, int y, float xoff, float yoff, mat3 sobel)\n{\n\tvec2 coord = vec2(pixelCoord.x + float(x) + xoff, pixelCoord.y + float(y) + yoff) / resolution;\n\tvec4 pixel = texture(tex, coord) * sobel[x + 1][y + 1];\n\treturn (pixel.r + pixel.g + pixel.b) / 3.0;\n}\n\nfloat sobel(float xoff, float yoff)\n{\n\tmat3 sobelX;\n\tsobelX[0] = vec3(-1.0, 0.0, 1.0);\n\tsobelX[1] = vec3(-2.0, 0.0, 2.0);\n\tsobelX[2] = vec3(-1.0, 0.0, 1.0);\n\t\n\tmat3 sobelY;\n\tsobelY[0] = vec3( 1.0,  2.0,  1.0);\n\tsobelY[1] = vec3( 0.0,  0.0,  0.0);\n\tsobelY[2] = vec3(-1.0, -2.0, -1.0);\n\t\n\tfloat sx = getNeighbor(-1, -1, xoff, yoff, sobelX) +\n\t\tgetNeighbor(0, -1, xoff, yoff, sobelX) +\n\t\tgetNeighbor(1, -1, xoff, yoff, sobelX) +\n\t\tgetNeighbor(-1, 0, xoff, yoff, sobelX) +\n\t\tgetNeighbor(0, 0, xoff, yoff, sobelX) +\n\t\tgetNeighbor(1, 0, xoff, yoff, sobelX) +\n\t\tgetNeighbor(-1, 1, xoff, yoff, sobelX) +\n\t\tgetNeighbor(0, 1, xoff, yoff, sobelX) +\n\t\tgetNeighbor(1, 1, xoff, yoff, sobelX);\n\t\t\n\tfloat sy = getNeighbor(-1, -1, xoff, yoff, sobelY) +\n\t\tgetNeighbor(0, -1, xoff, yoff, sobelY) +\n\t\tgetNeighbor(1, -1, xoff, yoff, sobelY) +\n\t\tgetNeighbor(-1, 0, xoff, yoff, sobelY) +\n\t\tgetNeighbor(0, 0, xoff, yoff, sobelY) +\n\t\tgetNeighbor(1, 0, xoff, yoff, sobelY) +\n\t\tgetNeighbor(-1, 1, xoff, yoff, sobelY) +\n\t\tgetNeighbor(0, 1, xoff, yoff, sobelY) +\n\t\tgetNeighbor(1, 1, xoff, yoff, sobelY);\n\t\n\tfloat c = clamp(sqrt((sx * sx) + (sy * sy)), 0.0, 1.0);\n\tif (c <= 32.0 / 255.0) c = 0.0;\n\treturn c;\n}\n\nvec4 mixColor(vec4 c1, vec4 c2)\n{\n\tvec4 c = vec4(c1.r + c2.r, c1.g - c2.r, c1.b - c2.r, 1);\n\tc = vec4(c.r - c2.g, c.g + c2.g, c.b - c2.g, 1);\n\tc = vec4(c.r - c2.b, c.g - c2.b, c.b + c2.b, 1);\n\treturn clamp(c, 0.0, 1.0);\n}\n\nvoid main(void)\n{\n\tfloat d = 4.0;\n\n\tfloat cr = sobel(-d, 0.0);\n\tfloat cg = sobel(0.0, 0.0);\n\tfloat cb = sobel(d, 0.0);\n\t\n\tvec4 baseColor = texture(tex, texCoord);\n\tvec4 color = vec4(cr, cg, cb, 1);\n\t\n\tvec4 hue = vec4(hsvToRGB(vec3(\n\t\t(time / 4.0) + (fragCoord.y / 512.0) + (noise(texCoord, randomSeed) / 2.0),\n\t\t2.0, 2.0\n\t)) * noise(texCoord, randomSeed), 1);\n\t\n\tfragColor = (baseColor * hue) + color;\n}\n`;class h extends l.Vertex{constructor(e,t){super(),this.coord=e,this.tex=t}getData(){return[this.coord,this.tex]}}class d extends l.Vertex{constructor(e,t){super(),this.coord=e,this.tex=t}getData(){return[this.coord,this.tex]}}const c=[new h([0,0],[0,0]),new h([0,0],[1,1]),new h([0,0],[1,0]),new h([0,0],[1,1]),new h([0,0],[0,0]),new h([0,0],[0,1])],u=[new d([-1,-1,-1],[0,0]),new d([1,1,-1],[1,1]),new d([1,-1,-1],[1,0]),new d([-1,1,-1],[0,1]),new d([-1,-1,1],[0,0]),new d([1,-1,1],[1,0]),new d([1,1,1],[1,1]),new d([-1,1,1],[0,1]),new d([-1,1,1],[1,0]),new d([-1,1,-1],[1,1]),new d([-1,-1,-1],[0,1]),new d([-1,-1,1],[0,0]),new d([1,1,1],[1,0]),new d([1,-1,-1],[0,1]),new d([1,1,-1],[1,1]),new d([1,-1,1],[0,0]),new d([-1,-1,-1],[0,1]),new d([1,-1,-1],[1,1]),new d([1,-1,1],[1,0]),new d([-1,-1,1],[0,0]),new d([-1,1,-1],[0,1]),new d([1,1,1],[1,0]),new d([1,1,-1],[1,1]),new d([-1,1,1],[0,0])],g=[0,1,2,1,0,3,4,5,6,6,7,4,8,9,10,10,11,8,12,13,14,13,12,15,16,17,18,18,19,16,20,21,22,21,20,23];class x extends a.Canvas{constructor(e){super(e,[480,360]),this._videoPlaying=!1,this._videoTimeUpdate=!1,this._videoReady=!1;let t=this._glCanvas;t.createTexture("texture"),t.createShader("shader","#version 300 es\n\nlayout (location = 0) in vec2 vecFragCoord;\nlayout (location = 1) in vec2 vecTexCoord;\n\nout vec2 fragCoord;\nout vec2 texCoord;\nout vec2 pixelCoord;\n\nuniform vec2 resolution;\nuniform mat4 projection;\n\nvoid main(void)\n{\n\tfragCoord = vecFragCoord;\n\ttexCoord = vecTexCoord;\n\tpixelCoord = floor(vecTexCoord * resolution);\n\tgl_Position = projection * vec4(vecFragCoord, 0, 1);\n}\n",o),t.createShader("shader_cube","#version 300 es\n\nlayout (location = 0) in vec3 vecFragCoord;\nlayout (location = 1) in vec2 vecTexCoord;\n\nout vec2 texCoord;\n\nuniform mat4 projection;\nuniform mat4 view;\nuniform mat4 model;\n\nvoid main(void)\n{\n\ttexCoord = vecTexCoord;\n\tgl_Position = projection * view * model * vec4(vecFragCoord, 1);\n}\n","#version 300 es\nprecision highp float;\n\nin vec2 texCoord;\n\nout vec4 fragColor;\n\nuniform sampler2D tex;\n\nvoid main(void)\n{\n\tfragColor = texture(tex, texCoord);\n}\n"),t.createDynamicMesh("mesh"),t.createStaticMesh("mesh_cube",u,g),this.video=document.createElement("video"),this.video.playsInline=!0,this.video.loop=!0,this.video.width=10,this.video.height=480,this.video.addEventListener("playing",(()=>{this._videoPlaying=!0,this._videoReady=this._videoPlaying&&this._videoTimeUpdate}),!0),this.video.addEventListener("timeupdate",(()=>{this._videoTimeUpdate=!0,this._videoReady=this._videoPlaying&&this._videoTimeUpdate}),!0),this.video.src="./img/badapple.mp4"}updateMesh(){let e=this._glCanvas,t=this.video.videoWidth,s=this.video.videoHeight;if(this._videoReady&&0!=t&&0!=s){let r=e.getTextureSize("texture");r[0]==t&&r[1]==s||(c[0].coord[0]=-t/2,c[0].coord[1]=-s/2,c[1].coord[0]=t/2,c[1].coord[1]=s/2,c[2].coord[0]=t/2,c[2].coord[1]=-s/2,c[3].coord[0]=t/2,c[3].coord[1]=s/2,c[4].coord[0]=-t/2,c[4].coord[1]=-s/2,c[5].coord[0]=-t/2,c[5].coord[1]=s/2,e.setMeshVertices("mesh",c,0),e.flushMeshVertices("mesh")),e.loadTextureVideoFrame("texture",this.video),this._videoTimeUpdate=!1}}radians(e){return e*(Math.PI/180)}update(e){let t=this._glCanvas,s=t.size,r=t.getTextureSize("texture");t.disableDepth(),t.setViewport([0,0],s),t.clear([0,0,0,1]),this.updateMesh();let i=[r[1]*(s[0]/s[1]),r[1]];s[1]>s[0]&&(i=[r[0],r[0]*(s[1]/s[0])]);let n=l.Matrix.ortho([-i[0]/2,-i[1]/2],i,[0,1e3]);if(t.setShaderVec2("shader","resolution",s),t.setShaderFloat("shader","time",e/1e3),t.setShaderFloat("shader","randomSeed",Math.random()),t.setShaderMatrix4("shader","projection",n),t.setShaderTexture("shader","tex","texture",0),t.drawMesh("mesh","shader"),this._videoReady){let r=this.radians(e/25),i=12*Math.sin(r),a=12*Math.sin(2*r),o=12*Math.cos(r);t.enableDepth(),t.setDepthFunction(l.DepthFunc.LessEqual),n=l.Matrix.perspective(60,s,[.1,1e3]);let h=l.Matrix.view3D([o,a,i],[0,0,0],[0,1,0]);t.setShaderMatrix4("shader_cube","projection",n),t.setShaderMatrix4("shader_cube","view",h),t.setShaderTexture("shader_cube","tex","texture",0);let d=[[-6,-6,-6],[6,-6,-6],[-6,-6,6],[6,-6,6],[-6,6,-6],[6,6,-6],[-6,6,6],[6,6,6]];for(const e of d){let s=l.Matrix.transform3D(e,[4*r,4*r,4*r],[1,1,1]);t.setShaderMatrix4("shader_cube","model",s),t.drawMesh("mesh_cube","shader_cube")}}}}t.Canvas3=x},353:function(e,t,s){var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,i)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas=void 0;const l=n(s(290));class a{constructor(e,t){this.id=e;let s=document.getElementById(this.id);if(null!=s){a._canvases.set(this.id,this),this._glCanvas=new l.Canvas(this.id,t);let e=this._glCanvas.container;s.appendChild(this._glCanvas.container);let r=document.createElement("button"),i=this.id;r.className="devon-webgl-canvas-container",r.innerText="Fullscreen",r.onclick=function(){a._canvases.get(i)._glCanvas.setFullscreen()},e.after(r)}}static update(e){this._canvases.forEach((function(t){t._glCanvas.startDraw(),t.update(e),t._glCanvas.finishDraw()}))}}t.Canvas=a,a._canvases=new Map},318:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fragShaderLib=void 0,t.fragShaderLib="uniform vec2 resolution;\nuniform float time;\nuniform float frame;\nuniform float randomSeed;\n\n// Pi\n#define PI 3.1415926535897932384626433832795\n\n// RGB color to HSV color\nvec3 rgbToHSV(vec3 c)\n{\n\tvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\tvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n\tvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\tfloat d = q.x - min(q.w, q.y);\n\tfloat e = 1.0e-10;\n\treturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n// HSV color to RGB color\nvec3 hsvToRGB(vec3 c)\n{\n\tvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\tvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n\treturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n// Get sine of angle shifted into range\nfloat sinRange(float a, float min, float max)\n{\n\tfloat mult = abs(max - min) / 2.0;\n\treturn (sin(a) * mult) + abs(max - mult);\t\n}\n\n// Get cosine of angle shifted into range\nfloat cosRange(float a, float min, float max)\n{\n\tfloat mult = abs(max - min) / 2.0;\n\treturn (cos(a) * mult) + abs(max - mult);\t\n}\n\n// Get noise value (randomized)\nfloat noise(vec2 coord, float seed)\n{\n\treturn fract(sin(dot(coord + seed, vec2(12.9898, 78.233))) * 43758.5453) * (1.0 / 0.9999);\n}\n\n// Get noise value\nfloat noise(vec2 coord)\n{\n\treturn fract(sin(dot(coord, vec2(12.9898, 78.233))) * 43758.5453) * (1.0 / 0.9999);\n}\n\n// Get random value\nfloat random()\n{\n\treturn noise(vec2(randomSeed));\n}\n\n// Get random value\nfloat random(float seed)\n{\n\treturn noise(vec2(seed));\n}\n"}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,s),n.exports}(()=>{const e=s(353),t=s(155),r=s(876),i=s(239);new t.Canvas1("test-canvas"),new r.Canvas2("test-canvas-2");let n=new i.Canvas3("test-canvas-3");document.getElementById("bad-apple").onclick=function(){n.video.play()},requestAnimationFrame((function t(s){e.Canvas.update(s),requestAnimationFrame(t)}))})()})();